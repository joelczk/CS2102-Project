{% extends "layout.html" %}
{% block search %}
<div style="text-align: center;">
    <form method="POST" action="" style="justify-content: center">
        <div style="display: inline-block; width: 25rem">
            <table>
                <td><input type="text" name="search" id="search" placeholder="Search for names" class="form-control left rounded" style="display: inline-block; margin-bottom:3%; width:150%"></td>
                <td><button type = "sumbit" class = "btn btn-outline-info" style = "margin-left:150%; margin-right:0px;">Search</button></table></td>
            </table>
        </div>
    </form>
</div>
{% endblock search %}
{% block content %}
<div style="text-align: center;">
    <div class="content-section" style="width: 30rem; display: inline-block;">
        <legend class="border-bottom mb-4", style="text-align:center;">Professor List</legend>
        {% if profs.pages %}
            <table class="table table-hover border-bottom pt-1 mb-4">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Professor Name</th>
                        <th scope="col">Module Code</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in profs.items %}
                        <tr>
                            <th scope="row">{{ loop.index }}</th>
                            <td style="width: 60%"><a class="unref" href="{{ url_for('profile', id=p.info.account_id) }}">{{ p.info.name }}</a></td>
                            <td style="width: 30%">{{ p.cid }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% if profs.pages > 1 %}
                <div style="text-align:center;">
                    {% if profs.page == 1 %}
                        <a class="btn btn-outline-secondary mb-4 disabled" href="{{ url_for('prof_list', query=query, page=1) }}">&#8810;</a>
                        <a class="btn btn-outline-secondary mb-4 disabled" href="{{ url_for('prof_list', query=query, page=profs.prev_num) }}">&lt;</a>
                    {% else %}
                        <a class="btn btn-outline-info mb-4" href="{{ url_for('prof_list', query=query, page=1) }}">&#8810;</a>
                        <a class="btn btn-outline-info mb-4" href="{{ url_for('prof_list', query=query, page=profs.prev_num) }}">&lt;</a>
                    {% endif %}
                    {% for page_num in profs.iter_pages(left_edge=0, right_edge=0, left_current=1, right_current=2) %}
                        {% if page_num %}                   
                            {% if profs.page == page_num %}
                                <a class="btn btn-info mb-4">{{ page_num }}</a>
                            {% else %}
                                <a class="btn btn-outline-info mb-4" href="{{ url_for('prof_list', query=query, page=page_num) }}">{{ page_num }}</a>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                    {% if profs.page == profs.pages %}
                        <a class="btn btn-outline-secondary mb-4 disabled" href="{{ url_for('prof_list', query=query, page=profs.next_num) }}">&gt;</a>
                        <a class="btn btn-outline-secondary mb-4 disabled" href="{{ url_for('prof_list', query=query, page=profs.pages) }}">&#8811;</a>
                    {% else %}
                        <a class="btn btn-outline-info mb-4" href="{{ url_for('prof_list', query=query, page=profs.next_num) }}">&gt;</a>
                        <a class="btn btn-outline-info mb-4" href="{{ url_for('prof_list', query=query, page=profs.pages) }}">&#8811;</a>
                    {% endif %}
                </div>
            {% endif %}
        {% else %}
            <h6 class="text-center" style="border-bottom: 2px solid; border-color: #b0b9c0">Student does not exist!</h6>
        {% endif %}
    </div>
{% endblock content %}